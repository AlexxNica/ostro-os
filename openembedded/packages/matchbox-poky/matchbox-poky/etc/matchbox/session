#!/bin/sh

module_id() {
    awk 'BEGIN { FS=": " } /Hardware/ { print $2 } ' </proc/cpuinfo
}

## Start up machine specific input devices. Really needs to go in its own session
case `module_id` in
	"SHARP Shepherd" | "SHARP Husky" | "SHARP Corgi" | "SHARP Spitz" | "SHARP Akita" | "SHARP Borzoi")
		chkhinge26 /dev/input/event0 hinge-handler &
		;;
	"Generic OMAP1510/1610/1710")
		/usr/bin/mbinputmgr &
		;;
esac

## All this should be done by themeing/xsettings.. ## 
matchbox-desktop --icon-size 48 \
                 --icon-padding 64 \
                 --font sans-8:bold \
                 --titlefont sans-8:bold &

# let theme set it
# --bg /usr/share/themes/Clearlooks/background/default.png \

mb-applet-startup-monitor &                 

matchbox-panel --orientation east \
               --padding 4 \
               --no-menu \
               --no-session \
               --default-apps mb-applet-home,mb-applet-clock,mb-applet-battery &

## eek ugly no cursor hack - transparent theme should do this
exec matchbox-window-manager -theme Clearlooks -use_cursor no $@


