#!/usr/bin/python
import oeparser
import oe, sys

#a = oeparser.FileReader("conf/oe.conf")
#print "data from filereader is %s" % a.data

b = oeparser.ConfigReader("conf/oe.conf")
b.reader()
print "env is %s" % b.env
print "envflags is %s" % b.envflags

c = oeparser.PackageReader("test.oe")
c.cfgenv = b.env # point the package reader to our config data
c.reader()

for i in b.env.keys():
	if not c.env.has_key(i):
		c.env[i] = b.env[i]
oe.emit_env(sys.__stdout__, c.env)
