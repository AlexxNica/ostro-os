Index: git/configure.ac
===================================================================
--- git.orig/configure.ac	2009-08-12 15:12:47.000000000 +0100
+++ git/configure.ac	2009-08-12 15:13:47.000000000 +0100
@@ -54,6 +54,13 @@
 PKG_CHECK_MODULES(CLUTTER_MOZEMBED, clutter-mozembed-0.10)
 PKG_CHECK_MODULES(GTK, gtk+-2.0)
 
+IDLPREFIX=
+AC_ARG_WITH(idl-prefix, AC_HELP_STRING([--with-idl-prefix=DIR],[prefix to add to access to the idl files]), with_idl_prefix=${withval})
+if test x"${with_idl_prefix}" != x ; then
+   IDLPREFIX=${with_idl_prefix}
+fi
+AC_SUBST([IDLPREFIX])
+
 if test "x$build_browser" = "xyes"; then
    PKG_CHECK_MODULES(MWB,
          clutter-1.0
Index: git/libmwbpages/Makefile.am
===================================================================
--- git.orig/libmwbpages/Makefile.am	2009-08-12 15:12:47.000000000 +0100
+++ git/libmwbpages/Makefile.am	2009-08-12 15:12:47.000000000 +0100
@@ -31,10 +31,10 @@
 mwb-gettext.lo : MwbIGettext.h
 
 .idl.h :
-	$(MOZHOME)/xpidl -I $(MOZIDLDIR) -m header $<
+	xpidl -I $(IDLPREFIX)$(MOZIDLDIR) -m header $<
 
 .idl.xpt :
-	$(MOZHOME)/xpidl -I $(MOZIDLDIR) -m typelib $<
+	xpidl -I $(IDLPREFIX)$(MOZIDLDIR) -m typelib $<
 
 dist_xpt_DATA = MwbISettings.xpt MwbIStartPage.xpt MwbIGettext.xpt
 xptdir = $(pkgdatadir)/components
