#@TYPE: Machine
#@NAME: Nokia 770 internet tablet
#@DESCRIPTION: Machine configuration for the Compulab CM-X270
TARGET_ARCH = "arm"
IPKG_EXTRA_ARCHS = "armv4 armv5te"

EXTRA_IMAGECMD_jffs2 = "--pad --little-endian --eraseblock=0x4000 -n"

IMAGE_CMD_jffs2 = "mkdir -p ${DEPLOY_DIR_IMAGE}; \
                  mkfs.jffs2 --root=${IMAGE_ROOTFS} --faketime \
                   --output=${DEPLOY_DIR_IMAGE}/${IMAGE_NAME}.rootfs.img ${EXTRA_IMAGECMD}; "

IMAGE_FSTYPES ?= "jffs2 tar.bz2"

PREFERRED_PROVIDER_virtual/bootloader = ""

# 800x480 is big enough for me
GUI_MACHINE_CLASS = "bigscreen"

include conf/machine/include/tune-xscale.conf

#size of the root partition (yes, it is 123 MB)
ROOT_FLASH_SIZE = "128"

# serial console port on devboard rev. B3
SERIAL_CONSOLE = "115200 ttyS0"

PREFERRED_PROVIDER_virtual/kernel = "linux-cmx270"

MACHINE_FEATURES = "kernel26 apm alsa pcmcia bluetooth irda usbgadget"

